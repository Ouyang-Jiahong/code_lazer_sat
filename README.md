# 空间目标探测任务规划与评估任务书

## 运行环境
本项目的运行环境为 Python 3.13.2。请确保您已经安装了该版本的 Python，再按照上述说明安装所需的库。

## 相关库安装

请使用以下命令安装所需的 Python 库。将 `XXX` 替换为下方列出的库名称：

```bash
pip install -i https://pypi.tuna.tsinghua.edu.cn/simple XXX
```

需要安装的库包括：

- `numpy`
- `pandas`
- `pulp`
- `openpyxl`
- `deap`
- `poliastro`

> **注意：** 若在安装过程中遇到网络限制问题（如大量下载行为被拦截），建议更换网络环境或尝试其他镜像源。

---

## 任务场景描述

本任务旨在利用一组雷达设备对给定的空间目标进行探测任务规划与评估。具体包括：

- 使用多种类型的雷达进行探测，包括**相控阵雷达**和**机械跟踪雷达**。
- 雷达参数详见 `sensorData.xlsx` 文件，包含部署位置、探测能力等信息。
- 每个空间目标的轨道参数及其探测需求（如所需测站数量、最小探测次数、最短探测时间等）详见 `requireData.xlsx` 文件。
- 探测时间段为：**2021年10月14日 4时0分0秒 至 2021年10月15日 4时0分0秒（UTCG时间）**

### 输入数据

- 雷达配置信息
- 空间目标轨道数据
- 探测任务需求

### 输出结果

输出应包含每部雷达在指定时间段内对各目标的详细探测安排，包括：

- 探测起止时间
- 是否执行探测任务
- 探测顺序安排

## 程序逻辑说明
### 1. 导入必要的库
程序导入了多个 Python 库，包括用于数据处理的 `pandas`、用于线性规划的 `pulp`、用于天文计算的 `poliastro` 和 `astropy` 等。

### 2. 数据加载
尝试从 `simData` 文件夹中读取 `sensorData.xlsx` 和 `requireData.xlsx` 文件。如果文件不存在、解析失败或发生其他错误，程序会输出相应的错误信息。

### 3. 参数设置
- 检查数据是否成功加载，若未加载成功则抛出异常。
- 设置探测时间段，计算总时间片数量。
- 定义了两个辅助函数 `create_orbit_from_elements` 和 `radar_to_ecef`，分别用于创建轨道对象和将雷达位置转换为 ECEF 坐标。
- 创建轨道和雷达位置列表，提取观测时间和雷达容量。
- 创建线性规划问题对象。

### 4. 观测弧段导入
尝试从 `simData` 文件夹中读取 `usableArcs.mat` 和 `simDate.mat` 文件，构建每个雷达 - 卫星对的可见弧段列表。若加载失败，程序会输出错误信息。

### 5. 决策变量设置
- 创建二进制决策变量 `x[r][t]`，表示雷达 `r` 是否分配给目标 `t`。
- 创建二进制决策变量 `y[r][t][a]`，表示雷达 `r` 对目标 `t` 在第 `a` 个可见弧段是否执行探测。

### 6. 目标函数设置
目标是最大化被探测目标的总优先级权重。

### 7. 约束条件设置
- 每个目标必须满足所需的最小探测次数和时间。
- 每个雷达最多探测其容量内的目标数。
- 若雷达未分配给某目标，则不能对该目标进行探测。